{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Koomik\\\\fe_pokekoo\\\\pages\\\\testpage.jsx\";\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport 'isomorphic-unfetch';\nimport Cookies from 'js-cookie';\nimport { API } from '../config';\nimport Axios from 'axios';\n\nvar Testpage = function Testpage(_ref) {\n  var _ref$pokemon = _ref.pokemon,\n      pokemon = _ref$pokemon === void 0 ? [] : _ref$pokemon,\n      token = _ref.token;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, console.log(pokemon), console.log(token), \"ss\", __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, \"POKEMON FOREST  \"), __jsx(\"ul\", {\n    className: \"list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, pokemon.map(function (pokemon) {\n    return __jsx(\"li\", {\n      key: pokemon.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }\n    }, pokemon.sprites.front_default, \" \"));\n  })));\n};\n\n_c = Testpage;\nTestpage.getInitialProps = fetchData;\n\nfunction fetchData() {\n  return _fetchData.apply(this, arguments);\n}\n\nfunction _fetchData() {\n  _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var token, initialURL, config, fetchRes;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            token = Cookies.get('token');\n            initialURL = \"\".concat(API, \"/profile\");\n            config = {\n              headers: {\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + this.state.token\n              }\n            };\n            fetchRes = Axios.get(initialURL, config).then(function (response) {\n              setState({\n                fetchRes: response.data\n              });\n            })[\"catch\"](function (error) {\n              alert(error.response.request.responseText);\n            });\n            console.log(res.data);\n            return _context.abrupt(\"return\", {\n              pokemon: fetchRes,\n              token: token\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _fetchData.apply(this, arguments);\n}\n\nexport default Testpage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Testpage\");","map":{"version":3,"sources":["D:/Koomik/fe_pokekoo/pages/testpage.jsx"],"names":["React","useState","Cookies","API","Axios","Testpage","pokemon","token","console","log","map","name","sprites","front_default","getInitialProps","fetchData","get","initialURL","config","headers","state","fetchRes","then","response","setState","data","error","alert","request","responseText","res"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAiBC,QAAjB,QAAkC,OAAlC;AACA,OAAQ,oBAAR;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,SAASC,GAAT,QAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,0BAAEC,OAAF;AAAA,MAAEA,OAAF,6BAAY,EAAZ;AAAA,MAAgBC,KAAhB,QAAgBA,KAAhB;AAAA,SAGb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIC,OAAO,CAACC,GAAR,CAAYH,OAAZ,CADJ,EAEIE,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAFJ,QAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,EAII;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,OAAO,CAACI,GAAR,CAAY,UAAAJ,OAAO,EAAI;AAEtB,WACE;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACK,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOL,OAAO,CAACM,OAAR,CAAgBC,aAAvB,MADF,CADF;AAMD,GARA,CADH,CAJJ,CAHa;AAAA,CAAjB;;KAAMR,Q;AAuBNA,QAAQ,CAACS,eAAT,GAA2BC,SAA3B;;SAEeA,S;;;;;wEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAEQR,YAAAA,KAFR,GAEgBL,OAAO,CAACc,GAAR,CAAY,OAAZ,CAFhB;AAGQC,YAAAA,UAHR,aAGwBd,GAHxB;AAIMe,YAAAA,MAJN,GAIa;AACTC,cAAAA,OAAO,EAAC;AACN,0BAAU,kBADJ;AAEN,iCAAiB,YAAU,KAAKC,KAAL,CAAWb;AAFhC;AADC,aAJb;AAWQc,YAAAA,QAXR,GAWmBjB,KAAK,CAACY,GAAN,CAAUC,UAAV,EAAsBC,MAAtB,EAA8BI,IAA9B,CAAmC,UAACC,QAAD,EAAc;AACjEC,cAAAA,QAAQ,CAAC;AACPH,gBAAAA,QAAQ,EAAEE,QAAQ,CAACE;AADZ,eAAD,CAAR;AAGE,aAJc,WAIN,UAAAC,KAAK,EAAI;AACjBC,cAAAA,KAAK,CAACD,KAAK,CAACH,QAAN,CAAeK,OAAf,CAAuBC,YAAxB,CAAL;AACA,aANc,CAXnB;AAqBErB,YAAAA,OAAO,CAACC,GAAR,CAAYqB,GAAG,CAACL,IAAhB;AArBF,6CAsBS;AACLnB,cAAAA,OAAO,EAAEe,QADJ;AAELd,cAAAA,KAAK,EAALA;AAFK,aAtBT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA4BE,eAAeF,QAAf","sourcesContent":["import React , { useState }  from 'react'\r\nimport  'isomorphic-unfetch'\r\nimport Cookies from 'js-cookie';\r\n\r\nimport { API } from '../config';\r\nimport Axios from 'axios';\r\n\r\n\r\nconst Testpage = ({pokemon = [], token}) =>(\r\n\r\n \r\n    <div>\r\n       {console.log(pokemon)}\r\n       {console.log(token)}\r\n      ss<h2>POKEMON FOREST  </h2>\r\n        <ul className=\"list\">\r\n          {pokemon.map(pokemon => {\r\n           \r\n            return (\r\n              <li key={pokemon.name} >\r\n                <span>{pokemon.sprites.front_default} </span>\r\n                \r\n              </li>\r\n            )\r\n          })}\r\n        </ul>\r\n    </div>\r\n)\r\n\r\n\r\n\r\nTestpage.getInitialProps = fetchData;\r\n\r\nasync function fetchData() {\r\n  \r\n  const token = Cookies.get('token')\r\n  const initialURL = `${API}/profile`;\r\n  let config={\r\n    headers:{\r\n      'Accept': 'application/json',\r\n      'Authorization': 'Bearer '+this.state.token\r\n    }\r\n   };\r\n  \r\n  const fetchRes = Axios.get(initialURL, config).then((response) => {\r\n   setState({\r\n     fetchRes :response.data\r\n   })\r\n    }).catch(error => {\r\n     alert(error.response.request.responseText);\r\n    });\r\n\r\n  \r\n\r\n  console.log(res.data)\r\n  return {\r\n    pokemon: fetchRes,\r\n    token\r\n  }\r\n}\r\n\r\n  export default Testpage"]},"metadata":{},"sourceType":"module"}