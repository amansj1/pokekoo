{"ast":null,"code":"import Router from 'next/router';\nimport axios from 'axios';\nimport { API } from '../config';\nimport { setCookie, removeCookie } from '../../utils/cookie'; // register user\n\nvar register = function register(_ref, type) {\n  var name = _ref.name,\n      email = _ref.email,\n      password = _ref.password;\n\n  if (type !== 'register') {\n    throw new Error('api salah');\n  }\n\n  return function (dispatch) {\n    axios.post(\"\".concat(API, \"/auth/\").concat(type), {\n      name: name,\n      email: email,\n      password: password\n    }).then(function (response) {\n      Router.push('/');\n      console.log(response.data.meta);\n    })[\"catch\"](function (err) {\n      switch (error.response.status) {\n        case 422:\n          alert(error.response.data.meta.message);\n          break;\n\n        case 401:\n          alert(error.response.data.meta.message);\n          break;\n\n        case 500:\n          alert('Interval server error! Try again!');\n          break;\n\n        default:\n          alert(error.response.data.meta.message);\n          break;\n      }\n    });\n  };\n};\n\nexport default {\n  register: register\n};","map":{"version":3,"sources":["D:/Koomik/fe_pokekoo/service/action.jsx"],"names":["Router","axios","API","setCookie","removeCookie","register","type","name","email","password","Error","dispatch","post","then","response","push","console","log","data","meta","err","error","status","alert","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,WAApB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,oBAAxC,C,CAEA;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA2BC,IAA3B,EAAoC;AAAA,MAAjCC,IAAiC,QAAjCA,IAAiC;AAAA,MAA3BC,KAA2B,QAA3BA,KAA2B;AAAA,MAApBC,QAAoB,QAApBA,QAAoB;;AACnD,MAAIH,IAAI,KAAK,UAAb,EAAyB;AACvB,UAAM,IAAII,KAAJ,CAAU,WAAV,CAAN;AACD;;AACD,SAAO,UAACC,QAAD,EAAc;AACnBV,IAAAA,KAAK,CAACW,IAAN,WAAcV,GAAd,mBAA0BI,IAA1B,GAAkC;AAACC,MAAAA,IAAI,EAAJA,IAAD;AAAOC,MAAAA,KAAK,EAALA,KAAP;AAAcC,MAAAA,QAAQ,EAARA;AAAd,KAAlC,EACGI,IADH,CACQ,UAACC,QAAD,EAAc;AAClBd,MAAAA,MAAM,CAACe,IAAP,CAAY,GAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAAT,CAAcC,IAA1B;AACD,KAJH,WAKS,UAACC,GAAD,EAAS;AACd,cAAQC,KAAK,CAACP,QAAN,CAAeQ,MAAvB;AACE,aAAK,GAAL;AACAC,UAAAA,KAAK,CAACF,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBC,IAApB,CAAyBK,OAA1B,CAAL;AACE;;AACF,aAAK,GAAL;AACAD,UAAAA,KAAK,CAACF,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBC,IAApB,CAAyBK,OAA1B,CAAL;AACE;;AACF,aAAK,GAAL;AACAD,UAAAA,KAAK,CAAC,mCAAD,CAAL;AACE;;AACF;AACAA,UAAAA,KAAK,CAACF,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBC,IAApB,CAAyBK,OAA1B,CAAL;AACE;AAZJ;AAcD,KApBH;AAqBD,GAtBD;AAuBD,CA3BD;;AA4BA,eAAe;AACXnB,EAAAA,QAAQ,EAARA;AADW,CAAf","sourcesContent":["import Router from 'next/router';\r\nimport axios from 'axios';\r\nimport { API } from '../config';\r\nimport { setCookie, removeCookie } from '../../utils/cookie';\r\n\r\n// register user\r\nconst register = ({ name, email, password}, type) => {\r\n  if (type !== 'register') {\r\n    throw new Error('api salah');\r\n  }\r\n  return (dispatch) => {\r\n    axios.post(`${API}/auth/${type}`, {name, email, password})\r\n      .then((response) => {\r\n        Router.push('/');\r\n        console.log(response.data.meta);\r\n      })\r\n      .catch((err) => {\r\n        switch (error.response.status) {\r\n          case 422:\r\n          alert(error.response.data.meta.message);\r\n            break;\r\n          case 401:\r\n          alert(error.response.data.meta.message);\r\n            break;\r\n          case 500:\r\n          alert('Interval server error! Try again!');\r\n            break;\r\n          default:\r\n          alert(error.response.data.meta.message);\r\n            break;\r\n        }\r\n      });\r\n  };\r\n};\r\nexport default {\r\n    register,\r\n    \r\n  };"]},"metadata":{},"sourceType":"module"}